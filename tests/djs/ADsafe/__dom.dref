
weak (~lNodes:   { Arr(Ref(~lNode)) | (packed v)} > lArrPro)
weak (~lNList:   { Arr(Ref(~lNode)) | (packed v)} > lArrPro)

weak (~lEvent     : {
  "type"          : Str,
  target          : Ref(~lNode),    (* could also be Ref(~lEventTarget) *)
  cancelBubble    : Bool,
  stopPropagation : () -> Top,
  bubble          : () -> Top,
  srcElement      : Ref(~lNode),
  altKey          : Bool,
  ctrlKey         : Bool,
  shiftKey        : Bool
} > lObjPro)

weak (~lEventTarget: { } > lObjPro)

weak (~lSelector : {
  op             : Str
} > lObjPro)
  
weak (~lSelectorFull : {
  op             : {(or (= v "empty_") 
                        (= v "plus") 
                        (= v "greater") 
                        (= v "pound") 
                        (= v "slash") 
                        (= v "star"))},
  name           : Str,
  value          : Str
} > lObjPro)


weak (~lQuery: { Arr(Ref(~lSelectorFull)) | (packed v) } > lArrPro)

weak (~lBunchs: Arr(Ref(~lBunch)) > lArrPro)

weak (~lBunch    : {
  "___nodes___"  : Ref(~lNodes),
  "___star___"   : Bool

  (*fire           : (NotUndef) -> Top*)
  (* getParents  : () -> Ref(~lBunchs) *)
} > lBunchProto)

weak (~lCCSStyle : {
    visibility   : Str
} > lObjPro)

weak (~lSelection: { createRange: () -> Ref(~lDocument) }  > lObjPro) 


weak (~lNode: {
    getComputedStyle     : (this: Ref(~lNode), node : Ref(~lNode), str  : Str) -> Ref(~lCCSStyle),
    currentStyle         : Ref(~lCCSStyle),
    firstChild           : Ref(~lNode),
    nextSibling          : Ref(~lNode),
    parentNode           : Ref(~lNode),
    childNodes           : Ref(~lNList),
    change               : Ref(~lEvent),
    "___ on ___"         : Ref(~lEvent),
    "___adsafe root___"  : Bool,
    tagName              : Str,
    className            : Str,
    name                 : Str,
    nodeName             : Str,
    nodeValue            : Str,
    disabled             : Bool,
    checked              : Bool,
    fire                 : (NotUndef) -> Top,
    blur                 : (this: Ref(~lNode)) -> Top,
    getElementsByTagName : [;L;] (this: Ref(~lNode), name : Str) / () -> Ref(L) / (L: {Arr(Ref(~lNode))|(packed v)} > lArrPro)
  } > lObjPro)

weak (~lDocument   : {
    defaultView    : Ref(~lNode),
    selection      : Ref(~lSelection),
    getElementById : [;;H_] (this      : Top, s : Str) / H_ -> Ref(~lNode) / (H_)} > lObjPro)

